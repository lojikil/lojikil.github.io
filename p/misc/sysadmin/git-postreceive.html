<html>
  <head>
    <title>&#923;ojiki&#955; | index</title>
    <link rel="stylesheet" href="/main.css" type="text/css">
  </head>
  <body>
    <pre>
 _       _ _ _    _ _ 
| |     (_|_) |  (_) |
| | ___  _ _| | ___| |
| |/ _ \| | | |/ / | |
| | (_) | | |   &lt;| | |
|_|\___/| |_|_|\_\_|_|
       _/ |           
      |__/           
    purveyors of fine, internet-related kipple since 1985.
    </pre>
    <hr>
<a href="/p/">p</a> &raquo; <a href="/p/misc/">misc</a> &raquo; <a href="/p/misc/sysadmin/">sysadmin</a> &raquo; <a href="/p/misc/sysadmin/git-postreceive.txt">git-postreceive.txt</a>
<br>
I needed a quick way to get <a href="http://lojikil.com">Lojikil</a> and <a href="http://www.xiphosresearch.com">XRL</a> up and running when we commit changes; both sites are static,
and XRL uses some crazy static site generator, whereas Lojikil uses <a href="http://lojikil.com/p/muse/">Muse</a>. In any case, I originally followed
<a href="http://toroid.org/ams/git-website-howto">these instructions here</a> and I thought it would be a good time to document that. The long and the short of it is:
<br>
<ol>
<li> <code class="muse-code">cd /some/path/to/repo</code><br>
<li> <code class="muse-code">git init --bare</code> </li>
<li> <code class="muse-code">echo "#!/bin/shnGIT_WORK_TREE=/var/www/www.example.org git checkout -f" &gt;&gt; hooks/post-receive</code><br>
<li> <code class="muse-code">chmod 700 hooks/post-receive</code> or <code class="muse-code">chmod u+x hooks/post-receive</code><br>
</ol>
<br>
Works like a charm. The only issue I have is that I needed to move the various git users (I have one per team's "stuff" that I host) into the appropriate</li>
<pre class="muse-code">www</pre> groups, e.g. <code class="muse-code">xrl-git</code> is now in the <code class="muse-code">xrl-www</code> group, and the directory for XRL is group-owned by <code class="muse-code">xrl-www</code>. Now all I need to do is setup tarsnap...</ol></li></ol></li></ol>
    <hr>
    <a href="/">Home</a> |
    <a href="/about/"> About</a> |
    <a href="/b/">Blag</a> |
    <a href="/p/lpn/">Lojikil's Programmer Notebook</a> |
    <a href="/p/"> Projects</a> |
    <a href="https://twitter.com/lojikil">Twitter</a> |
    <a href="https://github.com/saedwards-ecc">Github</a> |
    <a href="https://bitbucket.org/saedwards">BitBucket</a>
  </body>
</html>
